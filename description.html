<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>このゲームエンジンについての説明</title>
</head>
<body>
<h1>この作品についての説明</h1>

<h2>この作品の概要</h2>
<div>
これは、Scala.jsで作成したゲームエンジンフレームワークです。
外部ライブラリには依存せず、行列処理などの数値処理をすべて自前で実装し、
3DグラフィックのレンダリングはすべてWebGLのAPIに直接アクセスして行なっています。
</div>

<h2>この作品を作った理由</h2>
<div>

  新たなゲームエンジンのアーキテクチャの提唱

  モデルとの格闘
  既存の数値処理との格闘


  自分は元々ソフトウェア工学に興味があり、 それを実践する場としてゲームエンジンは非常に良い題材だったからです。
  ソフトウェア工学の目的は、「如何にして複雑なモデルをソースコードに落とし込むか」ということです。
  今までいくつものモデルを相手に格闘してきましたが、「物理学」という非常に複雑なモデルを扱ってみるのは
  非常に良い勉強になると考えたからです。
  ここで、物理シュミレーターでなく、物理エンジンを選択した理由は、リアルタイム処理がキモとなってくるからです

</div>
<h2>アーキテクチャの説明</h2>

<div>
  ゲームエンジンの作成は、誇張して言えば新たな宇宙を創造することであるとも言えます。

  <h3>レイヤー分割</h3>
  <img src="./image/layer.jpeg" height="200">
  <div>
    矢印が A -> B は「AがBに依存する」ことを表します。また、systemの部分にある*は、「複数のsystemがworldに依存する」ことを表します
    math: ベクトル、行列、四元数の演算などの数学的な知識を保有します。具体的なオブジェクトは存在しない、法則のみが存在する
    虚無宇宙であると言えます。
    world: 世界と、その世界に属するオブジェクトの知識を保有します。
    また、利便性のためにオブジェクトの位置、姿勢、形状などの単純な物理系の知識も持ちます。
    render: 世界を外側から俯瞰するカメラや、それを二次元スクリーンに表示する知識を保有します。
    system: 各系の知識を保有します。系とは、宇宙の一部のうち、考察の対象として注目している部分を表します。
    具体的なものとしては、物理系、オブジェクトの親子関係を定義する系、その他独自のゲームロジックを記述する系があります。
    また系は、世界の動きに対する私たちの解釈、すなわちモデルであるとも言えます。当然、すべての生物の動作、感情は原子の動きを
    シュミレートすることによって再現することができますが、それはあまりにも多くの計算を要することになります。
    そこで、私たちはある時には数学を、ある時には自然言語を用いて解釈付けをし、モデルとして落ち着かせることにしました。
    このように、モデルの定義は世界に対するトップダウン的な捉え方なので、パーソナルエリアやATフィールドといった精神的なものも系にできます。
    app: アプリケーション、つまりこのゲームエンジンを応用して作る作品を表します。
  </div>

  <h3>データの流れ</h3>
  <img src="./image/flow.jpeg" height="200">
  <div>
    worldには、それに属するentityが存在します。各系を通してworldの状態を更新していき、world'が生成されます。world'からその時点での世界のスナップショットを作成し、
    それをScreenに渡します。これを繰り返すことによって、世界が動き出し、それがスクリーンに描画され続けます。
  </div>
  <img src="./image/s1.jpeg" height="100">
  <div>
    各系同士は、直交する系同士は並列処理ができます。また関連性のある系同士は親子関係を持たせることにより、整合性を確保できます。このため、物理系も系の一部として一般化することによって、
    簡単に扱うことができるようになっています。
  </div>
  <img src="./image/s2.jpeg" height="100">
  <div>
    worldの情報の更新を適用する際、系同士がworldの同じ情報を変更する場合は、その変更処理を同期する必要がありますが、
    そうでない場合はフレームを跨いだ並列処理が可能となります。
  </div>
</div>




<h2>物理系の説明</h2>
各種パイプラインについて軽く解説すれば？

<h2>今後のロードマップ</h2>

</body>
</html>